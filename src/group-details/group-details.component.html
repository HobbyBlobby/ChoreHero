<mat-tab-group>
    <mat-tab label="Members">
        <section>
            <h2>Members</h2>
            <mat-list>
                @for (hero of this.groupMembers; track hero) {
                <mat-list-item>
                    <mat-icon matListItemIcon>person_3</mat-icon>
                    <h4 matListItemTitle>{{hero.account_name}}</h4>
                    <p matListItemLine>{{hero.group_role}}</p>
                    <button matListItemMeta mat-mini-fab color="primary" [matMenuTriggerFor]="memberMenu">
                        <mat-icon>menu</mat-icon>
                    </button>
                    <mat-menu #memberMenu>
                        <button mat-menu-item (click)="this.removeMember(hero)">Remove</button>
                    </mat-menu>
                </mat-list-item>
                <!-- <mat-divider [inset]="true"></mat-divider> -->
                }
            </mat-list>
            <button mat-button color="accent" (click)="this.openInviteDialog()">Add Member</button>
        </section>
        <section>
            <h2>Open Invitations</h2>
            <mat-list>
                @for (invite of this.groupInvitations; track invite) {
                <mat-list-item>
                    <mat-icon matListItemIcon>person_3</mat-icon>
                    <h4 matListItemTitle>{{invite.account_name}}</h4>
                    <p matListItemLine>{{invite.invitation_code}}</p>
                </mat-list-item>
                <!-- <mat-divider [inset]="true"></mat-divider> -->
                }
            </mat-list>
        </section>
    </mat-tab>
    <mat-tab label="Tasks">
        <mat-list>
        <h2>Todays tasks</h2>
        @for (task of this.tasks; track $index) {
            @if (task.date == this.today) {
            <mat-list-item>
                <h4 matListItemTitle>{{task.task}}</h4>
                <p matListItemMeta>{{task.date}}</p>
                <p matListItemLine>Challenge {{task.challenge}}: {{task.description}}</p>
            </mat-list-item>
            }
        }
        <mat-divider></mat-divider>
        <h2>Upcoming tasks</h2>
        @for (task of this.tasks; track $index) {
            @if (task.date > this.today) {
            <mat-list-item>
                <h4 matListItemTitle>{{task.task}}</h4>
                <p matListItemMeta>{{task.date}}</p>
                <p matListItemLine>Challenge {{task.challenge}}: {{task.description}}</p>
            </mat-list-item>
            }
        }
    </mat-list>
    </mat-tab>
</mat-tab-group>